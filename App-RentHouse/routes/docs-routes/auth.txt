ADMIN - QU·∫¢N L√ù NG∆Ø·ªúI D√ôNG (Ch·ªâ Admin)

GET,/admin/users,Admin,"L·∫•y danh s√°ch ng∆∞·ªùi d√πng (ph√¢n trang, tr·∫£ avatar nh·ªè <500KB)"
GET,/admin/users/:id,Admin,L·∫•y chi ti·∫øt m·ªôt ng∆∞·ªùi d√πng (tr·∫£ lu√¥n avatar ƒë·∫ßy ƒë·ªß)
GET,/admin/users/:id/avatar,Admin,L·∫•y ri√™ng avatarBase64 c·ªßa ng∆∞·ªùi d√πng (d√πng khi ·∫£nh l·ªõn)
PUT,/admin/users/:id/avatar,Admin,C·∫≠p nh·∫≠t ·∫£nh ƒë·∫°i di·ªán (ƒë·ªìng b·ªô MongoDB + Firestore)
PUT,/admin/users/:id,Admin,"C·∫≠p nh·∫≠t th√¥ng tin ng∆∞·ªùi d√πng: username, email, phone, role (ƒë·ªìng b·ªô c·∫£ MongoDB + Firestore)"
DELETE,/admin/users/:id,Admin,X√≥a ng∆∞·ªùi d√πng ho√†n to√†n (x√≥a MongoDB + Firestore + Firebase Auth)


==============

AUTH & USER PROFILE (Public / User)

Method,Route,Quy·ªÅn truy c·∫≠p,M√¥ t·∫£
POST,/register,Public,"ƒêƒÉng k√Ω t√†i kho·∫£n m·ªõi (b·∫Øt bu·ªôc avatar, phone, address...)"
POST,/login,Public,ƒêƒÉng nh·∫≠p b·∫±ng Firebase ID Token ‚Üí tr·∫£ th√¥ng tin user + role
POST,/send-reset-email,Public,G·ª≠i email ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u (Firebase Auth)
POST,/reset-password,Public,X√°c nh·∫≠n m√£ OOB v√† ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u
POST,/send-otp,Public,G·ª≠i m√£ OTP qua email (d√πng EmailJS)
POST,/verify-otp,Public,X√°c minh OTP (c√≥ th·ªÉ k√®m ƒë·ªïi m·∫≠t kh·∫©u)
POST,/change-password,User (c√≥ token),ƒê·ªïi m·∫≠t kh·∫©u khi ƒë√£ ƒëƒÉng nh·∫≠p
POST,/update-profile,User (c√≥ token),"C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n: phone, address, username (ƒë·ªìng b·ªô MongoDB + Firestore)"
POST,/upload-image,User (c√≥ token),Upload ·∫£nh ƒë·∫°i di·ªán (l∆∞u v√†o MongoDB)
GET,/user/:id/avatar,User (ch√≠nh ch·ªß),L·∫•y avatarBase64 c·ªßa ch√≠nh m√¨nh

--------------------
- KI·∫æN TR√öC BAN ƒê·∫¶U : 

    MongoDB (interaction)
    ‚Üì
    CSV (daily)
    ‚Üì
    Feature engineering
    ‚Üì
    Train model (.pkl)
    ‚Üì
    FastAPI
    ‚Üì
    NodeJS g·ªçi API
    ‚Üì
    Flutter Map render


------------------
C√° nh√¢n h√≥a t·ª´ AI : 

- C√° nh√¢n h√≥a g·ª£i √Ω  =====================

G·ª£i √Ω BƒêS ph√π h·ª£p nh·∫•t cho user

Kh√°c nhau gi·ªØa c√°c user

Thay ƒë·ªïi theo th·ªùi gian

üìå V√≠ d·ª•:

User A m·ªü map ‚Üí th·∫•y tr·ªç
User B m·ªü map ‚Üí th·∫•y nh√† nguy√™n cƒÉn

- Marker n√†o ƒë∆∞·ª£c ∆∞u ti√™n ==============

BƒêS n√†o ƒë∆∞·ª£c g·ª£i √Ω

Kho·∫£ng gi√° m·∫∑c ƒë·ªãnh

Lo·∫°i nh√† ∆∞u ti√™n

- Map hi·ªÉn th·ªã c√° nh√¢n h√≥a ==================

Marker size = score

Marker color = top category user th√≠ch

Marker priority = score

V√≠ d·ª•:

User th√≠ch tr·ªç ‚Üí marker tr·ªç n·ªïi h∆°n

User hay xem gi√° r·∫ª ‚Üí gi√° cao b·ªã m·ªù

- G·ª£i √Ω gi√° & ƒë√°nh gi√° h·ª£p l√Ω ====================

Gi√° n√†y cao/th·∫•p

Gi√° h·ª£p l√Ω theo khu v·ª±c

Kho·∫£ng tin c·∫≠y

- Gi·∫£i th√≠ch ƒë∆∞·ª£c (Explainable AI) ====================

‚ÄúV√¨ sao g·ª£i √Ω nh√† n√†y?‚Äù

V√≠ d·ª•:

G·∫ßn v·ªã tr√≠ b·∫°n hay t√¨m

Trong t·∫ßm gi√° b·∫°n quan t√¢m

B·∫°n ƒë√£ xem 5 nh√† t∆∞∆°ng t·ª±

=============================
* C√ÅC D·ªÆ LI·ªÜU C·∫¶N C√ì : 

1. D·ªÆ LI·ªÜU H√ÄNH VI USER
---------------------------------------------------
| Tr∆∞·ªùng               | M√¥ t·∫£                   |
| -------------------- | ----------------------- |
| user_id / session_id | ƒê·ªãnh danh               |
| action               | view, favorite, contact |
| timestamp            | Th·ªùi gian               |
| device               | mobile/desktop          |
| duration             | th·ªùi gian xem           |


2. D·ªÆ LI·ªÜU B·∫§T ƒê·ªòNG S·∫¢N
---------------------------------------------------

3. D·ªÆ LI·ªÜU NG·ªÆ C·∫¢NH
---------------------------------------------------
| Tr∆∞·ªùng        | M√¥ t·∫£      |
| ------------- | ---------- |
| map_center    | T√¢m map    |
| zoom_level    | Zoom       |
| search_radius | B√°n k√≠nh   |
| time_of_day   | S√°ng / t·ªëi |
| weekday       | Th·ª©        |

4. D·ªÆ LI·ªÜU T∆Ø∆†NG T√ÅC GI√ÅN TI·∫æP
---------------------------------------------------
| Tr∆∞·ªùng       | V√≠ d·ª•              |
| ------------ | ------------------ |
| impression   | Marker ƒë√£ hi·ªÉn th·ªã |
| scroll       | L∆∞·ªõt list          |
| click_marker | Click map          |

================================================================================
                    GIáº¢I THÃCH CÃC FILE TRONG THÆ¯ Má»¤C SERVICES
================================================================================

Tá»•ng quan: ThÆ° má»¥c services chá»©a cÃ¡c service layer xá»­ lÃ½ logic nghiá»‡p vá»¥,
giao tiáº¿p vá»›i backend API, vÃ  quáº£n lÃ½ cÃ¡c chá»©c nÄƒng chÃ­nh cá»§a á»©ng dá»¥ng.

================================================================================
1. API_SERVICE.DART - Service API CÆ¡ Báº£n
================================================================================

ğŸ“ File: lib/services/api_service.dart
ğŸ“ Chá»©c nÄƒng: Xá»­ lÃ½ cÃ¡c API liÃªn quan Ä‘áº¿n bÃ i Ä‘Äƒng thuÃª nhÃ 

ğŸ”§ TÃ­nh nÄƒng chÃ­nh:
   â€¢ getRentals()
     - Láº¥y danh sÃ¡ch táº¥t cáº£ bÃ i Ä‘Äƒng thuÃª nhÃ 
     - Tráº£ vá» List<Rental>
   
   â€¢ searchRentals()
     - TÃ¬m kiáº¿m bÃ i Ä‘Äƒng vá»›i nhiá»u bá»™ lá»c:
       * search: Tá»« khÃ³a tÃ¬m kiáº¿m
       * minPrice, maxPrice: Lá»c theo giÃ¡
       * propertyTypes: Lá»c theo loáº¡i báº¥t Ä‘á»™ng sáº£n
       * status: Lá»c theo tráº¡ng thÃ¡i
       * page, limit: PhÃ¢n trang
     - Tráº£ vá» Map vá»›i rentals, total, page, pages
   
   â€¢ getSearchHistory()
     - Láº¥y lá»‹ch sá»­ tÃ¬m kiáº¿m cá»§a ngÆ°á»i dÃ¹ng
     - Tráº£ vá» List<String>
   
   â€¢ createRental()
     - Táº¡o bÃ i Ä‘Äƒng thuÃª nhÃ  má»›i
     - Há»— trá»£ upload nhiá»u áº£nh (MultipartRequest)
     - Xá»­ lÃ½ táº¥t cáº£ thÃ´ng tin: title, price, area, location, propertyType,
       furniture, amenities, surroundings, rentalTerms, contactInfo

ğŸ” XÃ¡c thá»±c:
   - Sá»­ dá»¥ng Firebase Auth token
   - Tá»± Ä‘á»™ng láº¥y token qua _getIdToken()
   - Gá»­i token trong header Authorization: Bearer {token}

================================================================================
2. AUTH_SERVICE.DART - Service XÃ¡c Thá»±c NgÆ°á»i DÃ¹ng
================================================================================

ğŸ“ File: lib/services/auth_service.dart
ğŸ“ Chá»©c nÄƒng: Quáº£n lÃ½ toÃ n bá»™ chá»©c nÄƒng xÃ¡c thá»±c vÃ  thÃ´ng tin ngÆ°á»i dÃ¹ng

ğŸ”§ TÃ­nh nÄƒng chÃ­nh:

   A. ÄÄƒng kÃ½ & ÄÄƒng nháº­p:
   â€¢ register()
     - ÄÄƒng kÃ½ tÃ i khoáº£n má»›i
     - Tham sá»‘: email, password, phoneNumber, address, username, avatarBase64
     - Validation: Email, sá»‘ Ä‘iá»‡n thoáº¡i (10 chá»¯ sá»‘), máº­t kháº©u (â‰¥6 kÃ½ tá»±),
       username (â‰¥3 kÃ½ tá»±), avatar base64 há»£p lá»‡
   
   â€¢ login()
     - ÄÄƒng nháº­p báº±ng email/password
     - TÃ­ch há»£p Firebase Auth
     - Tráº£ vá» AppUser vá»›i Ä‘áº§y Ä‘á»§ thÃ´ng tin
   
   â€¢ signInWithGoogle()
     - ÄÄƒng nháº­p báº±ng tÃ i khoáº£n Google
     - Sá»­ dá»¥ng GoogleSignIn package
     - Tá»± Ä‘á»™ng láº¥y thÃ´ng tin profile tá»« Google
   
   â€¢ signInWithFacebook()
     - ÄÄƒng nháº­p báº±ng tÃ i khoáº£n Facebook
     - Sá»­ dá»¥ng FacebookAuth package
     - Tá»± Ä‘á»™ng láº¥y thÃ´ng tin profile tá»« Facebook

   B. Quáº£n lÃ½ Máº­t kháº©u:
   â€¢ sendPasswordResetEmail()
     - Gá»­i email Ä‘áº·t láº¡i máº­t kháº©u
   
   â€¢ resetPassword()
     - Äáº·t láº¡i máº­t kháº©u vá»›i oobCode tá»« email
   
   â€¢ changePassword()
     - Thay Ä‘á»•i máº­t kháº©u cho tÃ i khoáº£n hiá»‡n táº¡i

   C. Quáº£n lÃ½ Há»“ sÆ¡:
   â€¢ updateProfile()
     - Cáº­p nháº­t thÃ´ng tin: phoneNumber, address, username
   
   â€¢ uploadProfileImage()
     - Upload áº£nh Ä‘áº¡i diá»‡n má»›i (base64)
   
   â€¢ fetchAvatarBase64()
     - Láº¥y áº£nh Ä‘áº¡i diá»‡n tá»« server

   D. Quáº£n lÃ½ BÃ i Ä‘Äƒng:
   â€¢ fetchMyPosts()
     - Láº¥y danh sÃ¡ch bÃ i Ä‘Äƒng cá»§a ngÆ°á»i dÃ¹ng (phÃ¢n trang)
   
   â€¢ fetchRental()
     - Láº¥y chi tiáº¿t má»™t bÃ i Ä‘Äƒng
   
   â€¢ deleteRental()
     - XÃ³a bÃ i Ä‘Äƒng
   
   â€¢ updateRental()
     - Cáº­p nháº­t bÃ i Ä‘Äƒng (há»— trá»£ thÃªm/xÃ³a áº£nh)

   E. KhÃ¡c:
   â€¢ fetchRecentComments()
     - Láº¥y bÃ¬nh luáº­n gáº§n Ä‘Ã¢y cá»§a ngÆ°á»i dÃ¹ng
   
   â€¢ fetchNotifications()
     - Láº¥y thÃ´ng bÃ¡o
   
   â€¢ deleteNotification()
     - XÃ³a thÃ´ng bÃ¡o
   
   â€¢ getIdToken()
     - Láº¥y Firebase ID token
   
   â€¢ logout()
     - ÄÄƒng xuáº¥t (Google, Facebook, Firebase)

ğŸ” Validation:
   - Email: Regex pattern validation
   - Phone: 10 chá»¯ sá»‘
   - Password: Tá»‘i thiá»ƒu 6 kÃ½ tá»±
   - Username: Tá»‘i thiá»ƒu 3 kÃ½ tá»±
   - Avatar: Base64 format validation

================================================================================
3. BOOKING_SERVICE.DART - Service Äáº·t Chá»—
================================================================================

ğŸ“ File: lib/services/booking_service.dart
ğŸ“ Chá»©c nÄƒng: Quáº£n lÃ½ toÃ n bá»™ chá»©c nÄƒng Ä‘áº·t chá»— xem nhÃ 

ğŸ”§ TÃ­nh nÄƒng chÃ­nh:
   â€¢ createBooking()
     - Táº¡o Ä‘áº·t chá»— má»›i
     - Tham sá»‘: rentalId, customerInfo, preferredViewingTime
     - Tráº£ vá» Booking object
   
   â€¢ getMyBookings()
     - Láº¥y danh sÃ¡ch Ä‘áº·t chá»— cá»§a ngÆ°á»i dÃ¹ng
     - Há»— trá»£ phÃ¢n trang (page, limit)
     - Lá»c theo status (pending, confirmed, rejected, cancelled)
     - Tráº£ vá» Map: bookings, total, page, pages
   
   â€¢ getRentalBookings()
     - Láº¥y danh sÃ¡ch Ä‘áº·t chá»— cho má»™t bÃ i Ä‘Äƒng cá»¥ thá»ƒ
     - DÃ nh cho chá»§ nhÃ  xem cÃ¡c Ä‘áº·t chá»— cá»§a bÃ i Ä‘Äƒng cá»§a mÃ¬nh
     - Há»— trá»£ phÃ¢n trang vÃ  lá»c theo status
   
   â€¢ updateBookingStatus()
     - Cáº­p nháº­t tráº¡ng thÃ¡i Ä‘áº·t chá»— (chá»§ nhÃ )
     - Status: pending â†’ confirmed/rejected
     - CÃ³ thá»ƒ thÃªm ownerNotes
   
   â€¢ cancelBooking()
     - Há»§y Ä‘áº·t chá»— (khÃ¡ch hÃ ng)
     - Status: pending/confirmed â†’ cancelled
   
   â€¢ getBookingDetail()
     - Láº¥y chi tiáº¿t má»™t Ä‘áº·t chá»— cá»¥ thá»ƒ
   
   â€¢ checkUserHasBooked()
     - Kiá»ƒm tra ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘áº·t chá»— cho má»™t bÃ i Ä‘Äƒng chÆ°a
     - Tráº£ vá» Booking náº¿u cÃ³, null náº¿u chÆ°a
   
   â€¢ deleteBooking()
     - XÃ³a Ä‘áº·t chá»— (chá»‰ cho booking Ä‘Ã£ há»§y)

ğŸ“Š Tráº¡ng thÃ¡i Booking:
   - pending: Äang chá» xá»­ lÃ½
   - confirmed: ÄÃ£ xÃ¡c nháº­n
   - rejected: Bá»‹ tá»« chá»‘i
   - cancelled: ÄÃ£ há»§y

================================================================================
4. CHAT_SERVICE.DART - Service Chat Real-time
================================================================================

ğŸ“ File: lib/services/chat_service.dart
ğŸ“ Chá»©c nÄƒng: Quáº£n lÃ½ chat real-time sá»­ dá»¥ng Socket.IO

ğŸ”§ TÃ­nh nÄƒng chÃ­nh:
   â€¢ setToken()
     - Thiáº¿t láº­p token vÃ  khá»Ÿi táº¡o káº¿t ná»‘i socket
     - Tá»± Ä‘á»™ng gá»i _initializeSocket()
   
   â€¢ _initializeSocket()
     - Khá»Ÿi táº¡o káº¿t ná»‘i Socket.IO vá»›i server
     - Cáº¥u hÃ¬nh: websocket transport, auto-reconnect, headers vá»›i token
     - Láº¯ng nghe cÃ¡c events: receiveMessage, error, connect, disconnect
   
   â€¢ joinConversation()
     - Tham gia vÃ o má»™t phÃ²ng chat cá»¥ thá»ƒ
     - Emit event 'joinConversation' vá»›i conversationId
   
   â€¢ sendMessage()
     - Gá»­i tin nháº¯n real-time qua socket
     - Emit event 'sendMessage' vá»›i conversationId, senderId, content
   
   â€¢ getOrCreateConversation()
     - Táº¡o hoáº·c láº¥y cuá»™c trÃ² chuyá»‡n giá»¯a ngÆ°á»i dÃ¹ng vÃ  chá»§ nhÃ 
     - Tham sá»‘: rentalId, landlordId
     - Tráº£ vá» Conversation object
   
   â€¢ fetchMessages()
     - Láº¥y danh sÃ¡ch tin nháº¯n cá»§a má»™t cuá»™c trÃ² chuyá»‡n
     - Há»— trá»£ cursor pagination (load more messages)
     - Tráº£ vá» Map: messages, nextCursor
   
   â€¢ fetchConversations()
     - Láº¥y danh sÃ¡ch táº¥t cáº£ cuá»™c trÃ² chuyá»‡n cá»§a ngÆ°á»i dÃ¹ng
     - CÃ³ retry logic (3 láº§n thá»­)
     - Tráº£ vá» List<Conversation>
   
   â€¢ fetchPendingConversations()
     - Láº¥y danh sÃ¡ch cuá»™c trÃ² chuyá»‡n chá» xá»­ lÃ½
   
   â€¢ refreshGoogleToken()
     - LÃ m má»›i Google token khi háº¿t háº¡n
     - Há»— trá»£ silent sign-in vÃ  interactive sign-in
   
   â€¢ disconnect()
     - Ngáº¯t káº¿t ná»‘i socket

ğŸ”Œ Socket Events:
   - receiveMessage: Nháº­n tin nháº¯n má»›i
   - error: Lá»—i káº¿t ná»‘i
   - connect: Káº¿t ná»‘i thÃ nh cÃ´ng
   - disconnect: Ngáº¯t káº¿t ná»‘i
   - connectError: Lá»—i khi káº¿t ná»‘i

ğŸ”„ Token Management:
   - Tá»± Ä‘á»™ng refresh token khi háº¿t háº¡n (401 error)
   - Há»— trá»£ Google Sign-In token refresh
   - Callback onTokenExpired Ä‘á»ƒ xá»­ lÃ½ khi token háº¿t háº¡n

================================================================================
5. CHAT_AI_SERVICE.DART - Service AI Chat (UI Component)
================================================================================

ğŸ“ File: lib/services/chat_ai_service.dart
ğŸ“ Chá»©c nÄƒng: Widget BottomSheet cho chat AI tÃ¬m kiáº¿m nhÃ 

âš ï¸ LÆ°u Ã½: ÄÃ¢y lÃ  UI Component (StatefulWidget), khÃ´ng pháº£i service thuáº§n

ğŸ”§ TÃ­nh nÄƒng chÃ­nh:
   â€¢ TÃ¬m kiáº¿m thÃ´ng minh theo nhiá»u tiÃªu chÃ­:
     1. Loáº¡i báº¥t Ä‘á»™ng sáº£n (propertyType)
        - TÃ¬m theo: chung cÆ°, nhÃ  trá», phÃ²ng trá», etc.
     
     2. Tá»« khÃ³a (tiÃªu Ä‘á», vá»‹ trÃ­, tiá»‡n nghi)
        - TÃ¬m trong: title, location['short'], amenities
     
     3. GiÃ¡ ráº» nháº¥t/cao nháº¥t
        - "giÃ¡ ráº» nháº¥t": Sáº¯p xáº¿p theo giÃ¡ tÄƒng dáº§n
        - "giÃ¡ cao nháº¥t" hoáº·c "Ä‘áº¯t nháº¥t": Sáº¯p xáº¿p theo giÃ¡ giáº£m dáº§n
     
     4. Diá»‡n tÃ­ch
        - TÃ¬m theo tá»« khÃ³a "diá»‡n tÃ­ch" + sá»‘
        - TÃ¬m nhÃ  cÃ³ diá»‡n tÃ­ch gáº§n vá»›i giÃ¡ trá»‹ tÃ¬m kiáº¿m (Â±10mÂ²)
     
     5. Vá»‹ trÃ­/khu vá»±c
        - TÃ¬m theo tá»« khÃ³a "vá»‹ trÃ­" hoáº·c "khu vá»±c"
        - So khá»›p vá»›i location['short']
   
   â€¢ TÃ­ch há»£p Google Gemini API:
     - Khi khÃ´ng tÃ¬m tháº¥y káº¿t quáº£ local
     - Gá»i API: generativelanguage.googleapis.com
     - Model: gemini-2.0-flash
     - Tráº£ vá» pháº£n há»“i AI thÃ´ng minh
   
   â€¢ Hiá»ƒn thá»‹ káº¿t quáº£:
     - Náº¿u cÃ³ káº¿t quáº£: Hiá»ƒn thá»‹ danh sÃ¡ch bÃ i Ä‘Äƒng (RentalItemWidget)
     - Náº¿u khÃ´ng cÃ³: Hiá»ƒn thá»‹ pháº£n há»“i tá»« AI

ğŸ’¡ CÃ¡ch sá»­ dá»¥ng:
   - Khá»Ÿi táº¡o vá»›i apiKey (Google Gemini API key)
   - Load danh sÃ¡ch rentals khi init
   - Xá»­ lÃ½ input ngÆ°á»i dÃ¹ng vÃ  tÃ¬m kiáº¿m thÃ´ng minh
   - Fallback sang AI náº¿u khÃ´ng cÃ³ káº¿t quáº£

================================================================================
6. CHAT_USER_SERVICE.DART - Service Quáº£n LÃ½ NgÆ°á»i DÃ¹ng Chat
================================================================================

ğŸ“ File: lib/services/chat_user_service.dart
ğŸ“ Tráº¡ng thÃ¡i: File trá»‘ng (chÆ°a Ä‘Æ°á»£c implement)

ğŸ’¡ Gá»£i Ã½: CÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ:
   - Quáº£n lÃ½ thÃ´ng tin ngÆ°á»i dÃ¹ng trong chat
   - Láº¥y danh sÃ¡ch ngÆ°á»i dÃ¹ng Ä‘Ã£ chat
   - Block/unblock ngÆ°á»i dÃ¹ng
   - Cáº­p nháº­t tráº¡ng thÃ¡i online/offline

================================================================================
7. COMMENT_SERVICE.DART - Service BÃ¬nh Luáº­n
================================================================================

ğŸ“ File: lib/services/comment_service.dart
ğŸ“ Chá»©c nÄƒng: Quáº£n lÃ½ toÃ n bá»™ chá»©c nÄƒng bÃ¬nh luáº­n vÃ  pháº£n há»“i

ğŸ”§ TÃ­nh nÄƒng chÃ­nh:

   A. BÃ¬nh luáº­n (Comment):
   â€¢ fetchComments()
     - Láº¥y danh sÃ¡ch bÃ¬nh luáº­n cá»§a má»™t bÃ i Ä‘Äƒng
     - PhÃ¢n trang: page, limit (máº·c Ä‘á»‹nh 5)
     - Tráº£ vá»: comments, totalComments, currentPage, totalPages
   
   â€¢ postComment()
     - ÄÄƒng bÃ¬nh luáº­n má»›i
     - Há»— trá»£: content, rating (1-5 sao), images (nhiá»u áº£nh)
     - Upload dáº¡ng MultipartRequest
   
   â€¢ editComment()
     - Chá»‰nh sá»­a bÃ¬nh luáº­n
     - CÃ³ thá»ƒ thÃªm/xÃ³a áº£nh
     - imagesToRemove: Danh sÃ¡ch URL áº£nh cáº§n xÃ³a
   
   â€¢ deleteComment()
     - XÃ³a bÃ¬nh luáº­n

   B. Pháº£n há»“i (Reply):
   â€¢ postReply()
     - ÄÄƒng pháº£n há»“i cho bÃ¬nh luáº­n
     - Há»— trá»£ nested replies (pháº£n há»“i pháº£n há»“i)
     - parentReplyId: ID cá»§a reply cha (náº¿u cÃ³)
     - Há»— trá»£ upload áº£nh
   
   â€¢ editReply()
     - Chá»‰nh sá»­a pháº£n há»“i
     - Tá»‘i Æ°u: Chá»‰ tráº£ vá» Reply Ä‘Æ°á»£c cáº­p nháº­t, khÃ´ng pháº£i toÃ n bá»™ Comment
   
   â€¢ deleteReply()
     - XÃ³a pháº£n há»“i
     - Tá»‘i Æ°u: Chá»‰ tráº£ vá» replyId, khÃ´ng pháº£i toÃ n bá»™ Comment

   C. Like/Unlike:
   â€¢ toggleLike()
     - Like/unlike bÃ¬nh luáº­n
     - Tá»± Ä‘á»™ng kiá»ƒm tra tráº¡ng thÃ¡i like hiá»‡n táº¡i
   
   â€¢ toggleReplyLike()
     - Like/unlike pháº£n há»“i
     - Há»— trá»£ nested replies

   D. Tiá»‡n Ã­ch:
   â€¢ pickImages()
     - Chá»n áº£nh tá»« gallery
     - Há»— trá»£: comment, reply, edit
   
   â€¢ loadCurrentUserInfo()
     - Load thÃ´ng tin ngÆ°á»i dÃ¹ng hiá»‡n táº¡i (username, avatar)

   E. Helper Classes:
   â€¢ CommentStateManager
     - Quáº£n lÃ½ state bÃ¬nh luáº­n hiá»‡u quáº£
     - Methods:
       * updateCommentInList()
       * removeCommentFromList()
       * addCommentToList()
       * updateReplyInCommentList()
       * removeReplyFromCommentList()
       * findCommentById()
       * findReplyInComments()
   
   â€¢ CommentService Static Methods:
     - updateReplyInComment()
     - removeReplyFromComment()
     - _updateReplyInList() (recursive)
     - _removeReplyFromList() (recursive)
     - findReplyById() (recursive)

ğŸ“Š Cáº¥u trÃºc dá»¯ liá»‡u:
   Comment
   â”œâ”€â”€ id
   â”œâ”€â”€ rentalId
   â”œâ”€â”€ userId
   â”œâ”€â”€ content
   â”œâ”€â”€ rating (1-5)
   â”œâ”€â”€ images []
   â”œâ”€â”€ likes []
   â”œâ”€â”€ replies []
   â”‚   â”œâ”€â”€ id
   â”‚   â”œâ”€â”€ commentId
   â”‚   â”œâ”€â”€ parentReplyId (nested support)
   â”‚   â”œâ”€â”€ userId
   â”‚   â”œâ”€â”€ content
   â”‚   â”œâ”€â”€ images []
   â”‚   â”œâ”€â”€ likes []
   â”‚   â””â”€â”€ replies [] (nested)
   â””â”€â”€ createdAt

================================================================================
8. RENTAL_SERVICE.DART - Service Quáº£n LÃ½ NhÃ  Trá»
================================================================================

ğŸ“ File: lib/services/rental_service.dart
ğŸ“ Chá»©c nÄƒng: Quáº£n lÃ½ bÃ i Ä‘Äƒng nhÃ  trá» vÃ  cÃ¡c tÃ­nh nÄƒng liÃªn quan

ğŸ”§ TÃ­nh nÄƒng chÃ­nh:
   â€¢ fetchRentals()
     - Láº¥y danh sÃ¡ch nhÃ  trá»
     - PhÃ¢n trang: page, limit (máº·c Ä‘á»‹nh 10)
     - Token optional (cÃ³ thá»ƒ xem khÃ´ng cáº§n Ä‘Äƒng nháº­p)
   
   â€¢ fetchRentalById()
     - Láº¥y chi tiáº¿t má»™t nhÃ  trá» cá»¥ thá»ƒ
     - Tráº£ vá» Rental hoáº·c null
   
   â€¢ fetchRentalDetails()
     - Láº¥y thÃ´ng tin chi tiáº¿t: averageRating, reviewCount
     - Callback: onSuccess(averageRating, reviewCount)
   
   â€¢ checkFavoriteStatus()
     - Kiá»ƒm tra nhÃ  trá» Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o yÃªu thÃ­ch chÆ°a
     - Callback: onSuccess(isFavorite)
   
   â€¢ toggleFavorite()
     - ThÃªm/xÃ³a yÃªu thÃ­ch
     - POST Ä‘á»ƒ thÃªm, DELETE Ä‘á»ƒ xÃ³a
     - Callback: onSuccess(newStatus)
   
   â€¢ createRental()
     - Táº¡o bÃ i Ä‘Äƒng nhÃ  trá» má»›i
     - Há»— trá»£: rental data, imagePaths, token
     - Callback: onSuccess(Rental), onError(String)
   
   â€¢ updateRental()
     - Cáº­p nháº­t bÃ i Ä‘Äƒng nhÃ  trá»
     - Há»— trá»£ táº¥t cáº£ thÃ´ng tin rental
   
   â€¢ fetchNearbyRentals()
     - TÃ¬m nhÃ  trá» gáº§n Ä‘Ã¢y
     - Tham sá»‘:
       * rentalId: ID nhÃ  trá» lÃ m Ä‘iá»ƒm tham chiáº¿u
       * radius: BÃ¡n kÃ­nh tÃ¬m kiáº¿m (km, máº·c Ä‘á»‹nh 10km)
       * minPrice, maxPrice: Lá»c theo giÃ¡
     - Tráº£ vá» Map:
       * rentals: List<Rental>
       * warning: Cáº£nh bÃ¡o (náº¿u cÃ³)
       * searchMethod: PhÆ°Æ¡ng phÃ¡p tÃ¬m kiáº¿m
       * total: Tá»•ng sá»‘ káº¿t quáº£
       * radiusKm: BÃ¡n kÃ­nh thá»±c táº¿
     - Xá»­ lÃ½ coordinates tá»« server
     - Parse an toÃ n vá»›i error handling

ğŸ—ºï¸ TÃ¬m kiáº¿m gáº§n Ä‘Ã¢y:
   - Sá»­ dá»¥ng tá»a Ä‘á»™ Ä‘á»‹a lÃ½ (latitude, longitude)
   - TÃ­nh khoáº£ng cÃ¡ch giá»¯a cÃ¡c Ä‘iá»ƒm
   - Há»— trá»£ lá»c theo giÃ¡
   - CÃ³ thá»ƒ fallback sang phÆ°Æ¡ng phÃ¡p khÃ¡c náº¿u khÃ´ng cÃ³ coordinates


